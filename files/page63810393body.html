<!--allrecords--> <div id="allrecords" data-tilda-export="yes" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="10405061" data-tilda-page-id="63810393" data-tilda-page-alias="lua" data-tilda-formskey="88eba96ec6ee282538f0b41910405061" data-tilda-cookie="no" data-tilda-lazy="yes" data-tilda-root-zone="com" data-tilda-project-country="RU"> <!--header--> <header id="t-header" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="10405061" data-tilda-page-id="64026745" data-tilda-page-alias="header" data-tilda-formskey="88eba96ec6ee282538f0b41910405061" data-tilda-cookie="no" data-tilda-lazy="yes" data-tilda-root-zone="com" data-tilda-project-country="RU"> <div id="rec872695852" class="r t-rec" style=" " data-animationappear="off" data-record-type="360"> <!-- T360 --> <style>@media screen and (min-width:980px){.t-records{opacity:0;}.t-records_animated{-webkit-transition:opacity ease-in-out .5s;-moz-transition:opacity ease-in-out .5s;-o-transition:opacity ease-in-out .5s;transition:opacity ease-in-out .5s;}.t-records.t-records_visible,.t-records .t-records{opacity:1;}}</style> <script>t_onReady(function() {var allRecords=document.querySelector('.t-records');window.addEventListener('pageshow',function(event) {if(event.persisted) {allRecords.classList.add('t-records_visible');}});var rec=document.querySelector('#rec872695852');if(!rec) return;rec.setAttribute('data-animationappear','off');rec.style.opacity='1';allRecords.classList.add('t-records_animated');setTimeout(function() {allRecords.classList.add('t-records_visible');},200);});</script> <script>t_onReady(function() {var selects='button:not(.t-submit):not(.t835__btn_next):not(.t835__btn_prev):not(.t835__btn_result):not(.t862__btn_next):not(.t862__btn_prev):not(.t862__btn_result):not(.t854__news-btn):not(.t862__btn_next),' +
'a:not([href*="#"]):not(.carousel-control):not(.t-carousel__control):not(.t807__btn_reply):not([href^="#price"]):not([href^="javascript"]):not([href^="mailto"]):not([href^="tel"]):not([href^="link_sub"]):not(.js-feed-btn-show-more):not(.t367__opener):not([href^="https://www.dropbox.com/"])';var elements=document.querySelectorAll(selects);Array.prototype.forEach.call(elements,function(element) {if(element.getAttribute('data-menu-submenu-hook')) return;element.addEventListener('click',function(event) {var goTo=this.getAttribute('href');if(goTo!==null&&!goTo.startsWith('#')) {var ctrl=event.ctrlKey;var cmd=event.metaKey&&navigator.platform.indexOf('Mac')!==-1;if(!ctrl&&!cmd) {var target=this.getAttribute('target');if(target!=='_blank') {event.preventDefault();var allRecords=document.querySelector('.t-records');if(allRecords) {allRecords.classList.remove('t-records_visible');}
setTimeout(function() {window.location=goTo;},500);}}}});});});</script> <style>.t360__bar{background-color:#1f00ff;}</style> <script>t_onReady(function() {var isSafari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);if(!isSafari) {document.body.insertAdjacentHTML('beforeend','<div class="t360__progress"><div class="t360__bar"></div></div>');setTimeout(function() {var bar=document.querySelector('.t360__bar');if(bar) bar.classList.add('t360__barprogress');},10);}});window.addEventListener('load',function() {var bar=document.querySelector('.t360__bar');if(!bar) return;bar.classList.remove('t360__barprogress');bar.classList.add('t360__barprogressfinished');setTimeout(function() {bar.classList.add('t360__barprogresshidden');},20);setTimeout(function() {var progress=document.querySelector('.t360__progress');if(progress) progress.style.display='none';},500);});</script> </div> <div id="rec872695978" class="r t-rec" style=" " data-animationappear="off" data-record-type="602"> <!-- T602 --> <div class="t602"> <div class="t602__indicator" style="background:#000000;height:7px;"></div> </div> <script>t_onReady(function() {t_onFuncLoad('t602_init',function() {t602_init('872695978');});});</script> </div> <div id="rec872696359" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-animationappear="off" data-record-type="450"> <div class="t450__menu__content "
style="top:15px; " data-menu="yes" data-appearoffset="" data-hideoffset=""> <div class="t450__burger_container t450__small "> <div class="t450__burger_bg t450__burger_cirqle"
style="; opacity:0.50;"> </div> <button type="button"
class="t-menuburger t-menuburger_first t-menuburger__small"
aria-label="Навигационное меню"
aria-expanded="false"> <span style="background-color:#ffffff;"></span> <span style="background-color:#ffffff;"></span> <span style="background-color:#ffffff;"></span> <span style="background-color:#ffffff;"></span> </button> <script>function t_menuburger_init(recid) {var rec=document.querySelector('#rec' + recid);if(!rec) return;var burger=rec.querySelector('.t-menuburger');if(!burger) return;var isSecondStyle=burger.classList.contains('t-menuburger_second');if(isSecondStyle&&!window.isMobile&&!('ontouchend' in document)) {burger.addEventListener('mouseenter',function() {if(burger.classList.contains('t-menuburger-opened')) return;burger.classList.remove('t-menuburger-unhovered');burger.classList.add('t-menuburger-hovered');});burger.addEventListener('mouseleave',function() {if(burger.classList.contains('t-menuburger-opened')) return;burger.classList.remove('t-menuburger-hovered');burger.classList.add('t-menuburger-unhovered');setTimeout(function() {burger.classList.remove('t-menuburger-unhovered');},300);});}
burger.addEventListener('click',function() {if(!burger.closest('.tmenu-mobile')&&!burger.closest('.t450__burger_container')&&!burger.closest('.t466__container')&&!burger.closest('.t204__burger')&&!burger.closest('.t199__js__menu-toggler')) {burger.classList.toggle('t-menuburger-opened');burger.classList.remove('t-menuburger-unhovered');}});var menu=rec.querySelector('[data-menu="yes"]');if(!menu) return;var menuLinks=menu.querySelectorAll('.t-menu__link-item');var submenuClassList=['t978__menu-link_hook','t978__tm-link','t966__tm-link','t794__tm-link','t-menusub__target-link'];Array.prototype.forEach.call(menuLinks,function(link) {link.addEventListener('click',function() {var isSubmenuHook=submenuClassList.some(function(submenuClass) {return link.classList.contains(submenuClass);});if(isSubmenuHook) return;burger.classList.remove('t-menuburger-opened');});});menu.addEventListener('clickedAnchorInTooltipMenu',function() {burger.classList.remove('t-menuburger-opened');});}
t_onReady(function() {t_onFuncLoad('t_menuburger_init',function(){t_menuburger_init('872696359');});});</script> <style>.t-menuburger{position:relative;flex-shrink:0;width:28px;height:20px;padding:0;border:none;background-color:transparent;outline:none;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:transform .5s ease-in-out;cursor:pointer;z-index:999;}.t-menuburger span{display:block;position:absolute;width:100%;opacity:1;left:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:.25s ease-in-out;height:3px;background-color:#000;}.t-menuburger span:nth-child(1){top:0px;}.t-menuburger span:nth-child(2),.t-menuburger span:nth-child(3){top:8px;}.t-menuburger span:nth-child(4){top:16px;}.t-menuburger__big{width:42px;height:32px;}.t-menuburger__big span{height:5px;}.t-menuburger__big span:nth-child(2),.t-menuburger__big span:nth-child(3){top:13px;}.t-menuburger__big span:nth-child(4){top:26px;}.t-menuburger__small{width:22px;height:14px;}.t-menuburger__small span{height:2px;}.t-menuburger__small span:nth-child(2),.t-menuburger__small span:nth-child(3){top:6px;}.t-menuburger__small span:nth-child(4){top:12px;}.t-menuburger-opened span:nth-child(1){top:8px;width:0%;left:50%;}.t-menuburger-opened span:nth-child(2){-webkit-transform:rotate(45deg);transform:rotate(45deg);}.t-menuburger-opened span:nth-child(3){-webkit-transform:rotate(-45deg);transform:rotate(-45deg);}.t-menuburger-opened span:nth-child(4){top:8px;width:0%;left:50%;}.t-menuburger-opened.t-menuburger__big span:nth-child(1){top:6px;}.t-menuburger-opened.t-menuburger__big span:nth-child(4){top:18px;}.t-menuburger-opened.t-menuburger__small span:nth-child(1),.t-menuburger-opened.t-menuburger__small span:nth-child(4){top:6px;}@media (hover),(min-width:0\0){.t-menuburger_first:hover span:nth-child(1){transform:translateY(1px);}.t-menuburger_first:hover span:nth-child(4){transform:translateY(-1px);}.t-menuburger_first.t-menuburger__big:hover span:nth-child(1){transform:translateY(3px);}.t-menuburger_first.t-menuburger__big:hover span:nth-child(4){transform:translateY(-3px);}}.t-menuburger_second span:nth-child(2),.t-menuburger_second span:nth-child(3){width:80%;left:20%;right:0;}@media (hover),(min-width:0\0){.t-menuburger_second.t-menuburger-hovered span:nth-child(2),.t-menuburger_second.t-menuburger-hovered span:nth-child(3){animation:t-menuburger-anim 0.3s ease-out normal forwards;}.t-menuburger_second.t-menuburger-unhovered span:nth-child(2),.t-menuburger_second.t-menuburger-unhovered span:nth-child(3){animation:t-menuburger-anim2 0.3s ease-out normal forwards;}}.t-menuburger_second.t-menuburger-opened span:nth-child(2),.t-menuburger_second.t-menuburger-opened span:nth-child(3){left:0;right:0;width:100%!important;}.t-menuburger_third span:nth-child(4){width:70%;left:unset;right:0;}@media (hover),(min-width:0\0){.t-menuburger_third:not(.t-menuburger-opened):hover span:nth-child(4){width:100%;}}.t-menuburger_third.t-menuburger-opened span:nth-child(4){width:0!important;right:50%;}.t-menuburger_fourth{height:12px;}.t-menuburger_fourth.t-menuburger__small{height:8px;}.t-menuburger_fourth.t-menuburger__big{height:18px;}.t-menuburger_fourth span:nth-child(2),.t-menuburger_fourth span:nth-child(3){top:4px;opacity:0;}.t-menuburger_fourth span:nth-child(4){top:8px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(2),.t-menuburger_fourth.t-menuburger__small span:nth-child(3){top:3px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(4){top:6px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(2),.t-menuburger_fourth.t-menuburger__small span:nth-child(3){top:3px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(4){top:6px;}.t-menuburger_fourth.t-menuburger__big span:nth-child(2),.t-menuburger_fourth.t-menuburger__big span:nth-child(3){top:6px;}.t-menuburger_fourth.t-menuburger__big span:nth-child(4){top:12px;}@media (hover),(min-width:0\0){.t-menuburger_fourth:not(.t-menuburger-opened):hover span:nth-child(1){transform:translateY(1px);}.t-menuburger_fourth:not(.t-menuburger-opened):hover span:nth-child(4){transform:translateY(-1px);}.t-menuburger_fourth.t-menuburger__big:not(.t-menuburger-opened):hover span:nth-child(1){transform:translateY(3px);}.t-menuburger_fourth.t-menuburger__big:not(.t-menuburger-opened):hover span:nth-child(4){transform:translateY(-3px);}}.t-menuburger_fourth.t-menuburger-opened span:nth-child(1),.t-menuburger_fourth.t-menuburger-opened span:nth-child(4){top:4px;}.t-menuburger_fourth.t-menuburger-opened span:nth-child(2),.t-menuburger_fourth.t-menuburger-opened span:nth-child(3){opacity:1;}@keyframes t-menuburger-anim{0%{width:80%;left:20%;right:0;}50%{width:100%;left:0;right:0;}100%{width:80%;left:0;right:20%;}}@keyframes t-menuburger-anim2{0%{width:80%;left:0;}50%{width:100%;right:0;left:0;}100%{width:80%;left:20%;right:0;}}</style> </div> </div> <!-- t450 --> <div id="nav872696359marker"></div> <div class="t450__overlay"> <div class="t450__overlay_bg"
style=" "> </div> </div> <div id="nav872696359" class="t450 " data-tooltip-hook="#menuopen"
style="max-width: 260px;"> <button type="button"
class="t450__close-button t450__close t450_opened "
aria-label="Закрыть меню"> <div class="t450__close_icon" style="color:#ffffff;"> <span></span> <span></span> <span></span> <span></span> </div> </button> <div class="t450__container t-align_left"> <div class="t450__top"> <nav class="t450__menu"> <ul role="list" class="t450__list t-menu__list"> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/" data-menu-submenu-hook="" data-menu-item-number="1">
Main
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="#news" data-menu-submenu-hook="" data-menu-item-number="2">
News
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="#parsels" data-menu-submenu-hook="" data-menu-item-number="3">
Parsels
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="http://metasiberia.com/store" data-menu-submenu-hook="" data-menu-item-number="4">
Store
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="https://vr.metasiberia.com/"
target="_blank" data-menu-submenu-hook="" data-menu-item-number="5">
Admin panel
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="https://vr.metasiberia.com/map"
target="_blank" data-menu-submenu-hook="" data-menu-item-number="6">
Map
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/lua" data-menu-submenu-hook="" data-menu-item-number="7">
Scripting
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/faq" data-menu-submenu-hook="" data-menu-item-number="8">
F.A.Q.
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/terms" data-menu-submenu-hook="" data-menu-item-number="9">
Term of Use
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="#popup:embedcode" data-menu-submenu-hook="" data-menu-item-number="10">
Chat-bot
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="" data-menu-submenu-hook="" data-menu-item-number="11">
NFT
</a> </li> </ul> </nav> </div> <div class="t450__rightside"> <div class="t450__rightcontainer"> <div class="t450__right_descr t-descr t-descr_xs" field="descr"><div style="font-size: 14px;" data-customstyle="yes"><span style="color: rgb(255, 255, 255);">|\/| [- ~|~ /\</span><br /><span style="color: rgb(255, 255, 255);"> _\~ | ]3 [- /? | /\</span></div></div> <div class="t450__right_social_links"> <div class="t-sociallinks"> <ul role="list" class="t-sociallinks__wrapper" aria-label="Соц. сети"> <!-- new soclinks --><li class="t-sociallinks__item t-sociallinks__item_github"><a href="https://github.com/glaretechnologies/substrata" target="_blank" rel="nofollow" aria-label="github" style="width: 30px; height: 30px;"><svg class="t-sociallinks__svg" role="presentation" width=30px height=30px viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M52.078 99.958C78.728 98.868 100 76.918 100 50c0-27.614-22.386-50-50-50S0 22.386 0 50s22.386 50 50 50l.368-.001.335.001c.432 0 .894-.015 1.375-.042Zm0 0c3.828-.216 8.81-1.186 8.81-1.186l-.053-2.99s.05-5.839.05-11.388c0-3.873-1.327-6.407-2.818-7.688 9.248-1.027 18.954-4.537 18.954-20.484 0-4.532-1.607-8.238-4.268-11.14.427-1.05 1.852-5.271-.413-10.986 0 0-3.479-1.116-11.405 4.256-3.316-.92-6.867-1.381-10.392-1.397-3.53.016-7.082.476-10.393 1.397-7.93-5.372-11.416-4.256-11.416-4.256-2.258 5.716-.833 9.937-.407 10.986-2.655 2.902-4.272 6.607-4.272 11.14 0 15.907 9.69 19.469 18.909 20.517-1.186 1.038-2.258 2.867-2.635 5.55-2.366 1.062-8.378 2.894-12.081-3.45 0 0-2.193-3.984-6.358-4.278 0 0-4.055-.052-.286 2.523 0 0 2.722 1.277 4.609 6.073 0 0 2.436 8.073 13.984 5.565.01 1.884.026 3.515.038 4.77.01 1.053.018 1.84.018 2.29l.01 2.889c3.232.84 6.617 1.3 10.105 1.328a50.99 50.99 0 0 0 1.71-.041Z" fill="#ffffff"/> </svg></a></li>&nbsp;<li class="t-sociallinks__item t-sociallinks__item_vk"><a href="https://vk.com/metasiberia_official" target="_blank" rel="nofollow" aria-label="vk" style="width: 30px; height: 30px;"><svg class="t-sociallinks__svg" role="presentation" width=30px height=30px viewBox="0 0 100 100" fill="none"
xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd"
d="M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50ZM25 34c.406 19.488 10.15 31.2 27.233 31.2h.968V54.05c6.278.625 11.024 5.216 12.93 11.15H75c-2.436-8.87-8.838-13.773-12.836-15.647C66.162 47.242 71.783 41.62 73.126 34h-8.058c-1.749 6.184-6.932 11.805-11.867 12.336V34h-8.057v21.611C40.147 54.362 33.838 48.304 33.556 34H25Z"
fill="#ffffff" /> </svg></a></li>&nbsp;<li class="t-sociallinks__item t-sociallinks__item_telegram"><a href="https://t.me/metasiberia_official" target="_blank" rel="nofollow" aria-label="telegram" style="width: 30px; height: 30px;"><svg class="t-sociallinks__svg" role="presentation" width=30px height=30px viewBox="0 0 100 100" fill="none"
xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd"
d="M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50Zm21.977-68.056c.386-4.38-4.24-2.576-4.24-2.576-3.415 1.414-6.937 2.85-10.497 4.302-11.04 4.503-22.444 9.155-32.159 13.734-5.268 1.932-2.184 3.864-2.184 3.864l8.351 2.577c3.855 1.16 5.91-.129 5.91-.129l17.988-12.238c6.424-4.38 4.882-.773 3.34.773l-13.49 12.882c-2.056 1.804-1.028 3.35-.129 4.123 2.55 2.249 8.82 6.364 11.557 8.16.712.467 1.185.778 1.292.858.642.515 4.111 2.834 6.424 2.319 2.313-.516 2.57-3.479 2.57-3.479l3.083-20.226c.462-3.511.993-6.886 1.417-9.582.4-2.546.705-4.485.767-5.362Z"
fill="#ffffff" /> </svg></a></li><!-- /new soclinks --> </ul> </div> </div> </div> </div> </div> </div> <script>t_onReady(function() {var rec=document.querySelector('#rec872696359');if(!rec) return;rec.setAttribute('data-animationappear','off');rec.style.opacity=1;t_onFuncLoad('t450_initMenu',function() {t450_initMenu('872696359');});});</script> <style>#rec872696359 .t-menu__link-item{}@supports (overflow:-webkit-marquee) and (justify-content:inherit){#rec872696359 .t-menu__link-item,#rec872696359 .t-menu__link-item.t-active{opacity:1 !important;}}</style> <style> #rec872696359 a.t-menu__link-item{font-size:24px;color:#ffffff;}</style> <style> #rec872696359 .t450__right_langs_lang a{color:#ffffff;}</style> </div> </header> <!--/header--> <a name="terms" style="font-size:0;"></a> <div id="rec870763264" class="r t-rec t-rec_pt_75 t-rec_pb_60" style="padding-top:75px;padding-bottom:60px; " data-record-type="182"> <!-- T167 --> <div class="t167"> <div class="t-container"> <div class="t-prefix_2 t-col t-col_10"> <div class="t-col t-col_5 t167__imgblock" itemscope itemtype="http://schema.org/ImageObject"> <meta itemprop="image" content="images/tild3337-3865-4630-a365-356131376133____603.png"> <img class="t167__img t-img"
src="images/tild3337-3865-4630-a365-356131376133__-__empty____603.png" data-original="images/tild3337-3865-4630-a365-356131376133____603.png"
imgfield="img" data-tu-max-width="920" data-tu-max-height="920"
alt=""> <div class="t167__imgdescr t-descr" field="imgdescr" itemprop="description">Скриптинг в Metasiberia.</div> </div> <div class="t-col t-col_8" style="margin:0; float:none; display:inherit;"> <div field="text" class="t167__text t-text t-text_md"><strong style="font-size: 28px;">Скриптинг на Luau в Metasiberia</strong><br /><br />В Metasiberia вы можете оживлять свои объекты с помощью языка Luau — современной версии Lua, вдохновлённой Roblox. Это мощный инструмент для создания интерактивных элементов и автоматизации в твоём виртуальном мире.<br /><br /><strong>Создание скрипта для объекта.</strong><br />Для работы со скриптами нужен клиент Substrata.<br /><ol><li data-list="ordered">Откройте клиент и дважды щёлкните по объекту, который хотите настроить.</li><li data-list="ordered">В разделе "Скрипт" нажмите "Редактировать" — появится окно редактора.</li><li data-list="ordered">Начните код с --lua, чтобы указать, что используете Luau (а не Winter или XML).</li><li data-list="ordered">После внесения изменений закройте редактор — скрипт сразу применится к объекту.</li></ol><strong>Как работают скрипты.</strong><br />Скрипты в Metasiberia выполняются одновременно на клиенте и на сервере metasiberia.world. Это значит, что ваш код активируется на каждом подключённом устройстве и на центральном сервере. <br /><ul><li data-list="bullet">Физические эффекты (например, столкновения) обрабатываются на стороне клиента, где рассчитывается физика.</li><li data-list="bullet">Остальные изменения происходят на сервере и мгновенно синхронизируются со всеми пользователями.</li></ul><strong>Отладка скриптов.</strong><br />Для вывода сообщений используйте функцию print: <br />--lua<br />print("Привет из Metasiberia!")<br />Все отладочные данные, включая вывод и ошибки, видны в окне журнала (tools &gt; Show log). Если в скрипте ошибка, она отобразится в логе, а выполнение остановится. <br />Серверные логи доступны на metasiberia.com/script_log (нужен вход в аккаунт). Там вы увидите до 1000 последних сообщений и ошибок от ваших скриптов. <br /><br /><strong>Слушатели событий.</strong><br />Скрипты могут реагировать на действия пользователей через специальные функции. Определите их, чтобы отслеживать события объекта: <br /><ul><li data-list="bullet">onUserTouchedObject(avatar, object) — аватар коснулся объекта (срабатывает каждые 0,5 секунды при контакте).</li><li data-list="bullet">onUserUsedObject(avatar, object) — пользователь активировал объект (клавиша E).</li><li data-list="bullet">onUserMovedNearToObject(avatar, object) — аватар приблизился (в радиусе 20 метров).</li><li data-list="bullet">onUserMovedAwayFromObject(avatar, object) — аватар удалился (дальше 20 метров).</li><li data-list="bullet">onUserEnteredParcel(avatar, object, parcel) — аватар вошёл на участок.</li><li data-list="bullet">onUserExitedParcel(avatar, object, parcel) — аватар покинул участок.</li><li data-list="bullet">onUserEnteredVehicle(avatar, vehicle_ob) — аватар сел в транспорт.</li><li data-list="bullet">onUserExitedVehicle(avatar, vehicle_ob) — аватар покинул транспорт.</li></ul>Для отслеживания событий на других объектах используйте addEventListener: <br />--lua<br />addEventListener("onUserTouchedObject", 583, onUserTouchedObject)<br /><br /><strong>Глобальные функции.</strong><br /><ul><li data-list="bullet">getObjectForUID(uid) — возвращает объект по его ID.</li><li data-list="bullet">showMessageToUser(msg, avatar) — отображает сообщение пользователю на экране.</li><li data-list="bullet">createTimer(onTimerEvent, interval, repeating) — создаёт таймер (максимум 4).</li><li data-list="bullet">onTimerEvent(object) — функция, вызываемая при срабатывании.</li><li data-list="bullet">Возвращает handle для destroyTimer.</li><li data-list="bullet">destroyTimer(timer_handle) — удаляет таймер.</li><li data-list="bullet">doHTTPGetRequestAsync(url, headers, onDone, onError) — HTTP GET-запрос (лимит 5 за 300 секунд).</li><li data-list="bullet">onDone({response_code, response_message, mime_type, body_data}) — успех.</li><li data-list="bullet">onError({error_code, error_description}) — ошибка (0 = OK, 1 = прочее, 2 = лимит).</li><li data-list="bullet">doHTTPPostRequestAsync(url, post_content, content_type, headers, onDone, onError) — HTTP POST-запрос.</li><li data-list="bullet">Пример:</li><li data-list="bullet">--lua</li><li data-list="bullet">doHTTPPostRequestAsync( "https://example.com/api", "{ id: '123' }", "application/json", { Authorization = "Basic key" }, function(result) print(result.response_code) end, function(err) print(err.error_description) end)</li><li data-list="bullet">getSecret(secret_name) — получает секрет (например, API-ключ) из настроек аккаунта.</li><li data-list="bullet">my_key = getSecret("MY_API_KEY")</li><li data-list="bullet">parseJSON(json) — преобразует JSON в Lua-объект.</li><li data-list="bullet">parseJSON('[1, true, "text", null]') → {1, true, "text", nil}</li><li data-list="bullet">objectstorage.setItem(key, value) — сохраняет данные, устойчивые к перезагрузкам.</li><li data-list="bullet">objectstorage.getItem(key) — извлекает данные (nil, если ничего нет).</li></ul><br /><strong>Пример счётчика посещений. </strong><br />--lua<br />local visits = objectstorage.getItem("visits") or 0visits = visits + 1objectstorage.setItem("visits", visits)<br /><br /><strong>Глобальные переменные.</strong><br /><ul><li data-list="bullet">this_object — текущий объект скрипта.</li><li data-list="bullet">IS_CLIENT — true на клиенте, false на сервере.</li><li data-list="bullet">IS_SERVER — true на сервере, false на клиенте.</li></ul><strong>Классы</strong><br /><ul><li data-list="bullet">Object:</li><li data-list="bullet">Атрибуты:</li><li data-list="bullet">model_url — URL модели (строка).</li><li data-list="bullet">pos — позиция (Vec3d).</li><li data-list="bullet">axis — ось вращения (Vec3f).</li><li data-list="bullet">angle — угол вращения в радианах (число).</li><li data-list="bullet">scale — масштаб (Vec3f).</li><li data-list="bullet">collidable — столкновения (true/false).</li><li data-list="bullet">dynamic — физический объект (true/false).</li><li data-list="bullet">sensor — сенсор (true/false).</li><li data-list="bullet">content — текст для текстовых объектов (строка).</li><li data-list="bullet">video_autoplay — автозапуск видео (true/false).</li><li data-list="bullet">video_loop — повтор видео (true/false).</li><li data-list="bullet">video_muted — без звука (true/false).</li><li data-list="bullet">mass — масса в кг (число, для dynamic).</li><li data-list="bullet">friction — трение (0-1).</li><li data-list="bullet">restitution — упругость (0-1).</li><li data-list="bullet">centre_of_mass_offset_os — смещение центра масс (Vec3f).</li><li data-list="bullet">audio_source_url — URL аудио (строка).</li><li data-list="bullet">audio_volume — громкость (число, по умолчанию 1).</li><li data-list="bullet">Методы:</li><li data-list="bullet">getNumMaterials() — число материалов.</li><li data-list="bullet">getMaterial(index) — возвращает материал по индексу.</li><li data-list="bullet"><strong>Material: </strong></li><li data-list="bullet">Атрибуты:</li><li data-list="bullet">colour — цвет (Vec3f, sRGB).</li><li data-list="bullet">colour_texture_url — URL текстуры цвета (строка).</li><li data-list="bullet">emission_rgb — цвет излучения (Vec3f, sRGB).</li><li data-list="bullet">emission_texture_url — URL текстуры излучения (строка).</li><li data-list="bullet">normal_map_url — URL нормалей (строка).</li><li data-list="bullet">roughness_val — шероховатость (0-1).</li><li data-list="bullet">roughness_texture_url — URL текстуры шероховатости (строка).</li><li data-list="bullet">metallic_fraction_val — металличность (0-1).</li><li data-list="bullet">opacity_val — непрозрачность (0-1).</li><li data-list="bullet">tex_matrix — матрица текстур (Matrix2f, по умолчанию {1, 0, 0, 1}).</li><li data-list="bullet">emission_lum_flux_or_lum — световой поток или яркость (число).</li><li data-list="bullet">hologram — голограмма (true/false).</li><li data-list="bullet">double_sided — двусторонний рендер (true/false).</li><li data-list="bullet"><strong>Avatar: </strong></li><li data-list="bullet">Атрибуты:</li><li data-list="bullet">pos — позиция (Vec3d, ~1.67 м над поверхностью).</li><li data-list="bullet">name — имя пользователя (строка).</li><li data-list="bullet">linear_velocity — скорость (Vec3f, м/с).</li><li data-list="bullet">vehicle_inside — транспорт (Object или nil). <strong style="color: rgb(31, 0, 255);"><a href="http://metasiberia.com/scripts" style="color: rgb(31, 0, 255);">Примеры скриптов Luau</a></strong></li></ul></div> </div> </div> </div> </div> </div> <div id="rec870763304" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-record-type="191"> <!-- T142 --> <div class="t142"> <a
class="t-btn t-btnflex t-btnflex_type_button t-btnflex_lg"
href="/"> <span class="t-btnflex__text">[Главная]</span> <style>#rec870763304 .t-btnflex.t-btnflex_type_button {color:#000000;border-style:none !important;box-shadow:none !important;white-space:normal;transition-duration:0.2s;transition-property:background-color,color,border-color,box-shadow,opacity,transform;transition-timing-function:ease-in-out;}</style> </a> </div> </div> <!--footer--> <footer id="t-footer" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="10405061" data-tilda-page-id="64026811" data-tilda-page-alias="footer" data-tilda-formskey="88eba96ec6ee282538f0b41910405061" data-tilda-cookie="no" data-tilda-lazy="yes" data-tilda-root-zone="com" data-tilda-project-country="RU"> <div id="rec872697073" class="r t-rec t-rec_pb_0" style="padding-bottom:0px;background-color:#ffffff; " data-animationappear="off" data-record-type="144" data-bg-color="#ffffff"> <!-- T134 --> <div class="t134"> <div class="t-container"> <div class="t-col t-col_10 t-prefix_1"> <div class="t134__descr" field="descr"><br /><strong style="color: rgb(0, 0, 0);">© 2025 Denis Shipilov | G<a href="https://gallery20.ru/" style="color: rgb(0, 0, 0);">allery20.ru</a> | <a href="mailto:greatdng@gmail.com" style="color: rgb(0, 0, 0);">DNG</a></strong><br /><span style="color: rgb(0, 0, 0);">Metasiberia is based and inspired by Substrata</span></div> </div> </div> </div> <style>#rec872697073 .t134__title,#rec872697073 .t134__descr{color:#ffffff;}</style> </div> </footer> <!--/footer--> </div> <!--/allrecords-->