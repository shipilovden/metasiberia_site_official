<!--allrecords--> <div id="allrecords" data-tilda-export="yes" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="10405061" data-tilda-page-id="64103135" data-tilda-page-alias="morpher" data-tilda-formskey="88eba96ec6ee282538f0b41910405061" data-tilda-cookie="no" data-tilda-lazy="yes" data-tilda-root-zone="com" data-tilda-project-country="RU"> <!--header--> <header id="t-header" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="10405061" data-tilda-page-id="64026745" data-tilda-page-alias="header" data-tilda-formskey="88eba96ec6ee282538f0b41910405061" data-tilda-cookie="no" data-tilda-lazy="yes" data-tilda-root-zone="com" data-tilda-project-country="RU"> <div id="rec872695852" class="r t-rec" style=" " data-animationappear="off" data-record-type="360"> <!-- T360 --> <style>@media screen and (min-width:980px){.t-records{opacity:0;}.t-records_animated{-webkit-transition:opacity ease-in-out .5s;-moz-transition:opacity ease-in-out .5s;-o-transition:opacity ease-in-out .5s;transition:opacity ease-in-out .5s;}.t-records.t-records_visible,.t-records .t-records{opacity:1;}}</style> <script>t_onReady(function() {var allRecords=document.querySelector('.t-records');window.addEventListener('pageshow',function(event) {if(event.persisted) {allRecords.classList.add('t-records_visible');}});var rec=document.querySelector('#rec872695852');if(!rec) return;rec.setAttribute('data-animationappear','off');rec.style.opacity='1';allRecords.classList.add('t-records_animated');setTimeout(function() {allRecords.classList.add('t-records_visible');},200);});</script> <script>t_onReady(function() {var selects='button:not(.t-submit):not(.t835__btn_next):not(.t835__btn_prev):not(.t835__btn_result):not(.t862__btn_next):not(.t862__btn_prev):not(.t862__btn_result):not(.t854__news-btn):not(.t862__btn_next),' +
'a:not([href*="#"]):not(.carousel-control):not(.t-carousel__control):not(.t807__btn_reply):not([href^="#price"]):not([href^="javascript"]):not([href^="mailto"]):not([href^="tel"]):not([href^="link_sub"]):not(.js-feed-btn-show-more):not(.t367__opener):not([href^="https://www.dropbox.com/"])';var elements=document.querySelectorAll(selects);Array.prototype.forEach.call(elements,function(element) {if(element.getAttribute('data-menu-submenu-hook')) return;element.addEventListener('click',function(event) {var goTo=this.getAttribute('href');if(goTo!==null&&!goTo.startsWith('#')) {var ctrl=event.ctrlKey;var cmd=event.metaKey&&navigator.platform.indexOf('Mac')!==-1;if(!ctrl&&!cmd) {var target=this.getAttribute('target');if(target!=='_blank') {event.preventDefault();var allRecords=document.querySelector('.t-records');if(allRecords) {allRecords.classList.remove('t-records_visible');}
setTimeout(function() {window.location=goTo;},500);}}}});});});</script> <style>.t360__bar{background-color:#1f00ff;}</style> <script>t_onReady(function() {var isSafari=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);if(!isSafari) {document.body.insertAdjacentHTML('beforeend','<div class="t360__progress"><div class="t360__bar"></div></div>');setTimeout(function() {var bar=document.querySelector('.t360__bar');if(bar) bar.classList.add('t360__barprogress');},10);}});window.addEventListener('load',function() {var bar=document.querySelector('.t360__bar');if(!bar) return;bar.classList.remove('t360__barprogress');bar.classList.add('t360__barprogressfinished');setTimeout(function() {bar.classList.add('t360__barprogresshidden');},20);setTimeout(function() {var progress=document.querySelector('.t360__progress');if(progress) progress.style.display='none';},500);});</script> </div> <div id="rec872695978" class="r t-rec" style=" " data-animationappear="off" data-record-type="602"> <!-- T602 --> <div class="t602"> <div class="t602__indicator" style="background:#000000;height:7px;"></div> </div> <script>t_onReady(function() {t_onFuncLoad('t602_init',function() {t602_init('872695978');});});</script> </div> <div id="rec872696359" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-animationappear="off" data-record-type="450"> <div class="t450__menu__content "
style="top:15px; " data-menu="yes" data-appearoffset="" data-hideoffset=""> <div class="t450__burger_container t450__small "> <div class="t450__burger_bg t450__burger_cirqle"
style="; opacity:0.50;"> </div> <button type="button"
class="t-menuburger t-menuburger_first t-menuburger__small"
aria-label="Навигационное меню"
aria-expanded="false"> <span style="background-color:#ffffff;"></span> <span style="background-color:#ffffff;"></span> <span style="background-color:#ffffff;"></span> <span style="background-color:#ffffff;"></span> </button> <script>function t_menuburger_init(recid) {var rec=document.querySelector('#rec' + recid);if(!rec) return;var burger=rec.querySelector('.t-menuburger');if(!burger) return;var isSecondStyle=burger.classList.contains('t-menuburger_second');if(isSecondStyle&&!window.isMobile&&!('ontouchend' in document)) {burger.addEventListener('mouseenter',function() {if(burger.classList.contains('t-menuburger-opened')) return;burger.classList.remove('t-menuburger-unhovered');burger.classList.add('t-menuburger-hovered');});burger.addEventListener('mouseleave',function() {if(burger.classList.contains('t-menuburger-opened')) return;burger.classList.remove('t-menuburger-hovered');burger.classList.add('t-menuburger-unhovered');setTimeout(function() {burger.classList.remove('t-menuburger-unhovered');},300);});}
burger.addEventListener('click',function() {if(!burger.closest('.tmenu-mobile')&&!burger.closest('.t450__burger_container')&&!burger.closest('.t466__container')&&!burger.closest('.t204__burger')&&!burger.closest('.t199__js__menu-toggler')) {burger.classList.toggle('t-menuburger-opened');burger.classList.remove('t-menuburger-unhovered');}});var menu=rec.querySelector('[data-menu="yes"]');if(!menu) return;var menuLinks=menu.querySelectorAll('.t-menu__link-item');var submenuClassList=['t978__menu-link_hook','t978__tm-link','t966__tm-link','t794__tm-link','t-menusub__target-link'];Array.prototype.forEach.call(menuLinks,function(link) {link.addEventListener('click',function() {var isSubmenuHook=submenuClassList.some(function(submenuClass) {return link.classList.contains(submenuClass);});if(isSubmenuHook) return;burger.classList.remove('t-menuburger-opened');});});menu.addEventListener('clickedAnchorInTooltipMenu',function() {burger.classList.remove('t-menuburger-opened');});}
t_onReady(function() {t_onFuncLoad('t_menuburger_init',function(){t_menuburger_init('872696359');});});</script> <style>.t-menuburger{position:relative;flex-shrink:0;width:28px;height:20px;padding:0;border:none;background-color:transparent;outline:none;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:transform .5s ease-in-out;cursor:pointer;z-index:999;}.t-menuburger span{display:block;position:absolute;width:100%;opacity:1;left:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);transition:.25s ease-in-out;height:3px;background-color:#000;}.t-menuburger span:nth-child(1){top:0px;}.t-menuburger span:nth-child(2),.t-menuburger span:nth-child(3){top:8px;}.t-menuburger span:nth-child(4){top:16px;}.t-menuburger__big{width:42px;height:32px;}.t-menuburger__big span{height:5px;}.t-menuburger__big span:nth-child(2),.t-menuburger__big span:nth-child(3){top:13px;}.t-menuburger__big span:nth-child(4){top:26px;}.t-menuburger__small{width:22px;height:14px;}.t-menuburger__small span{height:2px;}.t-menuburger__small span:nth-child(2),.t-menuburger__small span:nth-child(3){top:6px;}.t-menuburger__small span:nth-child(4){top:12px;}.t-menuburger-opened span:nth-child(1){top:8px;width:0%;left:50%;}.t-menuburger-opened span:nth-child(2){-webkit-transform:rotate(45deg);transform:rotate(45deg);}.t-menuburger-opened span:nth-child(3){-webkit-transform:rotate(-45deg);transform:rotate(-45deg);}.t-menuburger-opened span:nth-child(4){top:8px;width:0%;left:50%;}.t-menuburger-opened.t-menuburger__big span:nth-child(1){top:6px;}.t-menuburger-opened.t-menuburger__big span:nth-child(4){top:18px;}.t-menuburger-opened.t-menuburger__small span:nth-child(1),.t-menuburger-opened.t-menuburger__small span:nth-child(4){top:6px;}@media (hover),(min-width:0\0){.t-menuburger_first:hover span:nth-child(1){transform:translateY(1px);}.t-menuburger_first:hover span:nth-child(4){transform:translateY(-1px);}.t-menuburger_first.t-menuburger__big:hover span:nth-child(1){transform:translateY(3px);}.t-menuburger_first.t-menuburger__big:hover span:nth-child(4){transform:translateY(-3px);}}.t-menuburger_second span:nth-child(2),.t-menuburger_second span:nth-child(3){width:80%;left:20%;right:0;}@media (hover),(min-width:0\0){.t-menuburger_second.t-menuburger-hovered span:nth-child(2),.t-menuburger_second.t-menuburger-hovered span:nth-child(3){animation:t-menuburger-anim 0.3s ease-out normal forwards;}.t-menuburger_second.t-menuburger-unhovered span:nth-child(2),.t-menuburger_second.t-menuburger-unhovered span:nth-child(3){animation:t-menuburger-anim2 0.3s ease-out normal forwards;}}.t-menuburger_second.t-menuburger-opened span:nth-child(2),.t-menuburger_second.t-menuburger-opened span:nth-child(3){left:0;right:0;width:100%!important;}.t-menuburger_third span:nth-child(4){width:70%;left:unset;right:0;}@media (hover),(min-width:0\0){.t-menuburger_third:not(.t-menuburger-opened):hover span:nth-child(4){width:100%;}}.t-menuburger_third.t-menuburger-opened span:nth-child(4){width:0!important;right:50%;}.t-menuburger_fourth{height:12px;}.t-menuburger_fourth.t-menuburger__small{height:8px;}.t-menuburger_fourth.t-menuburger__big{height:18px;}.t-menuburger_fourth span:nth-child(2),.t-menuburger_fourth span:nth-child(3){top:4px;opacity:0;}.t-menuburger_fourth span:nth-child(4){top:8px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(2),.t-menuburger_fourth.t-menuburger__small span:nth-child(3){top:3px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(4){top:6px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(2),.t-menuburger_fourth.t-menuburger__small span:nth-child(3){top:3px;}.t-menuburger_fourth.t-menuburger__small span:nth-child(4){top:6px;}.t-menuburger_fourth.t-menuburger__big span:nth-child(2),.t-menuburger_fourth.t-menuburger__big span:nth-child(3){top:6px;}.t-menuburger_fourth.t-menuburger__big span:nth-child(4){top:12px;}@media (hover),(min-width:0\0){.t-menuburger_fourth:not(.t-menuburger-opened):hover span:nth-child(1){transform:translateY(1px);}.t-menuburger_fourth:not(.t-menuburger-opened):hover span:nth-child(4){transform:translateY(-1px);}.t-menuburger_fourth.t-menuburger__big:not(.t-menuburger-opened):hover span:nth-child(1){transform:translateY(3px);}.t-menuburger_fourth.t-menuburger__big:not(.t-menuburger-opened):hover span:nth-child(4){transform:translateY(-3px);}}.t-menuburger_fourth.t-menuburger-opened span:nth-child(1),.t-menuburger_fourth.t-menuburger-opened span:nth-child(4){top:4px;}.t-menuburger_fourth.t-menuburger-opened span:nth-child(2),.t-menuburger_fourth.t-menuburger-opened span:nth-child(3){opacity:1;}@keyframes t-menuburger-anim{0%{width:80%;left:20%;right:0;}50%{width:100%;left:0;right:0;}100%{width:80%;left:0;right:20%;}}@keyframes t-menuburger-anim2{0%{width:80%;left:0;}50%{width:100%;right:0;left:0;}100%{width:80%;left:20%;right:0;}}</style> </div> </div> <!-- t450 --> <div id="nav872696359marker"></div> <div class="t450__overlay"> <div class="t450__overlay_bg"
style=" "> </div> </div> <div id="nav872696359" class="t450 " data-tooltip-hook="#menuopen"
style="max-width: 260px;"> <button type="button"
class="t450__close-button t450__close t450_opened "
aria-label="Закрыть меню"> <div class="t450__close_icon" style="color:#ffffff;"> <span></span> <span></span> <span></span> <span></span> </div> </button> <div class="t450__container t-align_left"> <div class="t450__top"> <nav class="t450__menu"> <ul role="list" class="t450__list t-menu__list"> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/" data-menu-submenu-hook="" data-menu-item-number="1">
Main
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="#news" data-menu-submenu-hook="" data-menu-item-number="2">
News
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="#parsels" data-menu-submenu-hook="" data-menu-item-number="3">
Parsels
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="http://metasiberia.com/store" data-menu-submenu-hook="" data-menu-item-number="4">
Store
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="https://vr.metasiberia.com/"
target="_blank" data-menu-submenu-hook="" data-menu-item-number="5">
Admin panel
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="https://vr.metasiberia.com/map"
target="_blank" data-menu-submenu-hook="" data-menu-item-number="6">
Map
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/lua" data-menu-submenu-hook="" data-menu-item-number="7">
Scripting
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/faq" data-menu-submenu-hook="" data-menu-item-number="8">
F.A.Q.
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="/terms" data-menu-submenu-hook="" data-menu-item-number="9">
Term of Use
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="#popup:embedcode" data-menu-submenu-hook="" data-menu-item-number="10">
Chat-bot
</a> </li> <li class="t450__list_item"> <a class="t-menu__link-item "
href="" data-menu-submenu-hook="" data-menu-item-number="11">
NFT
</a> </li> </ul> </nav> </div> <div class="t450__rightside"> <div class="t450__rightcontainer"> <div class="t450__right_descr t-descr t-descr_xs" field="descr"><div style="font-size: 14px;" data-customstyle="yes"><span style="color: rgb(255, 255, 255);">|\/| [- ~|~ /\</span><br /><span style="color: rgb(255, 255, 255);"> _\~ | ]3 [- /? | /\</span></div></div> <div class="t450__right_social_links"> <div class="t-sociallinks"> <ul role="list" class="t-sociallinks__wrapper" aria-label="Соц. сети"> <!-- new soclinks --><li class="t-sociallinks__item t-sociallinks__item_github"><a href="https://github.com/glaretechnologies/substrata" target="_blank" rel="nofollow" aria-label="github" style="width: 30px; height: 30px;"><svg class="t-sociallinks__svg" role="presentation" width=30px height=30px viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M52.078 99.958C78.728 98.868 100 76.918 100 50c0-27.614-22.386-50-50-50S0 22.386 0 50s22.386 50 50 50l.368-.001.335.001c.432 0 .894-.015 1.375-.042Zm0 0c3.828-.216 8.81-1.186 8.81-1.186l-.053-2.99s.05-5.839.05-11.388c0-3.873-1.327-6.407-2.818-7.688 9.248-1.027 18.954-4.537 18.954-20.484 0-4.532-1.607-8.238-4.268-11.14.427-1.05 1.852-5.271-.413-10.986 0 0-3.479-1.116-11.405 4.256-3.316-.92-6.867-1.381-10.392-1.397-3.53.016-7.082.476-10.393 1.397-7.93-5.372-11.416-4.256-11.416-4.256-2.258 5.716-.833 9.937-.407 10.986-2.655 2.902-4.272 6.607-4.272 11.14 0 15.907 9.69 19.469 18.909 20.517-1.186 1.038-2.258 2.867-2.635 5.55-2.366 1.062-8.378 2.894-12.081-3.45 0 0-2.193-3.984-6.358-4.278 0 0-4.055-.052-.286 2.523 0 0 2.722 1.277 4.609 6.073 0 0 2.436 8.073 13.984 5.565.01 1.884.026 3.515.038 4.77.01 1.053.018 1.84.018 2.29l.01 2.889c3.232.84 6.617 1.3 10.105 1.328a50.99 50.99 0 0 0 1.71-.041Z" fill="#ffffff"/> </svg></a></li>&nbsp;<li class="t-sociallinks__item t-sociallinks__item_vk"><a href="https://vk.com/metasiberia_official" target="_blank" rel="nofollow" aria-label="vk" style="width: 30px; height: 30px;"><svg class="t-sociallinks__svg" role="presentation" width=30px height=30px viewBox="0 0 100 100" fill="none"
xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd"
d="M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50ZM25 34c.406 19.488 10.15 31.2 27.233 31.2h.968V54.05c6.278.625 11.024 5.216 12.93 11.15H75c-2.436-8.87-8.838-13.773-12.836-15.647C66.162 47.242 71.783 41.62 73.126 34h-8.058c-1.749 6.184-6.932 11.805-11.867 12.336V34h-8.057v21.611C40.147 54.362 33.838 48.304 33.556 34H25Z"
fill="#ffffff" /> </svg></a></li>&nbsp;<li class="t-sociallinks__item t-sociallinks__item_telegram"><a href="https://t.me/metasiberia_official" target="_blank" rel="nofollow" aria-label="telegram" style="width: 30px; height: 30px;"><svg class="t-sociallinks__svg" role="presentation" width=30px height=30px viewBox="0 0 100 100" fill="none"
xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd"
d="M50 100c27.614 0 50-22.386 50-50S77.614 0 50 0 0 22.386 0 50s22.386 50 50 50Zm21.977-68.056c.386-4.38-4.24-2.576-4.24-2.576-3.415 1.414-6.937 2.85-10.497 4.302-11.04 4.503-22.444 9.155-32.159 13.734-5.268 1.932-2.184 3.864-2.184 3.864l8.351 2.577c3.855 1.16 5.91-.129 5.91-.129l17.988-12.238c6.424-4.38 4.882-.773 3.34.773l-13.49 12.882c-2.056 1.804-1.028 3.35-.129 4.123 2.55 2.249 8.82 6.364 11.557 8.16.712.467 1.185.778 1.292.858.642.515 4.111 2.834 6.424 2.319 2.313-.516 2.57-3.479 2.57-3.479l3.083-20.226c.462-3.511.993-6.886 1.417-9.582.4-2.546.705-4.485.767-5.362Z"
fill="#ffffff" /> </svg></a></li><!-- /new soclinks --> </ul> </div> </div> </div> </div> </div> </div> <script>t_onReady(function() {var rec=document.querySelector('#rec872696359');if(!rec) return;rec.setAttribute('data-animationappear','off');rec.style.opacity=1;t_onFuncLoad('t450_initMenu',function() {t450_initMenu('872696359');});});</script> <style>#rec872696359 .t-menu__link-item{}@supports (overflow:-webkit-marquee) and (justify-content:inherit){#rec872696359 .t-menu__link-item,#rec872696359 .t-menu__link-item.t-active{opacity:1 !important;}}</style> <style> #rec872696359 a.t-menu__link-item{font-size:24px;color:#ffffff;}</style> <style> #rec872696359 .t450__right_langs_lang a{color:#ffffff;}</style> </div> </header> <!--/header--> <div id="rec874665172" class="r t-rec" style=" " data-animationappear="off" data-record-type="131"> <!-- T123 --> <div class="t123"> <div class="t-container_100 "> <div class="t-width t-width_100 "> <!-- nominify begin --> <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <style>
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: #0A0A0A;
            font-family: 'Inter', sans-serif;
        }

        #container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        #ui {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #FFFFFF;
            z-index: 1000;
            width: 100%;
            padding: 0 10px;
        }

        #title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
            background: linear-gradient(45deg, #00FFCC, #00B3FF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
        }

        #shape-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            max-width: 100%;
        }

        #controls {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #FFFFFF;
            z-index: 1000;
        }

        .control-group {
            background: rgba(20, 20, 20, 0.85);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        details.control-group {
            transition: all 0.3s ease;
        }

        details.control-group[open] {
            box-shadow: 0 0 15px rgba(0, 255, 204, 0.2);
        }

        summary {
            cursor: pointer;
            padding: 8px 12px;
            font-size: 14px;
            font-weight: 500;
            color: #00FFCC;
            background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), rgba(0, 179, 255, 0.1));
            border-radius: 6px;
            margin-bottom: 8px;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        summary:hover {
            background: linear-gradient(135deg, rgba(0, 255, 204, 0.2), rgba(0, 179, 255, 0.2));
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::after {
            content: '▼';
            font-size: 12px;
            transition: transform 0.3s ease;
        }

        details[open] summary::after {
            transform: rotate(180deg);
        }

        .slider-container {
            margin: 8px 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 4px;
            font-size: 12px;
            color: #E0E0E0;
        }

        input[type="range"] {
            width: 180px;
            margin-right: 8px;
            -webkit-appearance: none;
            background: linear-gradient(to right, #00FFCC, #00B3FF);
            height: 4px;
            border-radius: 2px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background: #FFFFFF;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 255, 204, 0.5);
        }

        input[type="color"] {
            width: 40px;
            height: 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: none;
        }

        .button {
            cursor: pointer;
            padding: 6px 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(0, 255, 204, 0.1));
            color: #FFFFFF;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .button:hover {
            background: linear-gradient(135deg, rgba(0, 255, 204, 0.2), rgba(0, 179, 255, 0.2));
            border-color: #00FFCC;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 255, 204, 0.3);
        }

        .button.active {
            background: linear-gradient(135deg, #00FFCC, #00B3FF);
            border-color: #00B3FF;
            color: #0A0A0A;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 255, 204, 0.5);
        }

        .button::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.15) 0%, transparent 60%);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .button:hover::after {
            opacity: 1;
        }

        #info {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: #B0B0B0;
            font-size: 12px;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);
            pointer-events: none;
            text-align: center;
        }

        /* Стили для модального окна */
        #help-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-width: 600px;
            max-height: 80vh;
            background: rgba(20, 20, 20, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            color: #E0E0E0;
            z-index: 2000;
            overflow-y: auto;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 20px rgba(0, 255, 204, 0.3);
        }

        #help-modal details {
            margin-bottom: 10px;
        }

        #help-modal summary {
            font-size: 14px;
            padding: 8px;
            color: #00FFCC;
        }

        #help-modal p {
            font-size: 12px;
            line-height: 1.4;
            padding: 5px 10px;
        }

        #help-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1500;
        }

        @media (max-width: 768px) {
            #title {
                font-size: 20px;
                margin-bottom: 10px;
            }
            #controls {
                top: auto;
                bottom: 60px;
                left: 10px;
                right: 10px;
                width: calc(100% - 20px);
            }
            .control-group {
                padding: 10px;
                margin-bottom: 8px;
            }
            .slider-container label {
                font-size: 10px;
            }
            input[type="range"] {
                width: 100%;
                margin-right: 0;
            }
            input[type="color"] {
                width: 30px;
                height: 18px;
            }
            .button {
                padding: 5px 10px;
                font-size: 10px;
            }
            #info {
                font-size: 10px;
                bottom: 5px;
            }
            #help-modal {
                width: 90%;
                max-height: 70vh;
            }
        }

        @media (max-width: 480px) {
            #title {
                font-size: 18px;
            }
            .button {
                padding: 4px 8px;
                font-size: 9px;
            }
            .control-group {
                padding: 8px;
            }
        }
    </style> </head> <body> <div id="container"></div> <div id="ui"> <div id="title">Metasiberia Verse Morpher NFT</div> <div id="shape-buttons"> <div class="button" data-shape="sphere">Sphere</div> <div class="button" data-shape="cube">Cube</div> <div class="button" data-shape="torus">Torus</div> <div class="button" data-shape="icosahedron">Icosahedron</div> <div class="button" data-shape="teapot">Teapot</div> <div class="button" data-shape="dna">DNA</div> </div> </div> <div id="controls"> <div class="button" id="help-button" style="margin-bottom: 15px;">Help</div> <details class="control-group"> <summary>Particle Basics</summary> <div class="slider-container"> <label>Particle Size: <span id="sizeValue">0.035</span></label> <input type="range" id="particleSize" min="0.01" max="0.1" step="0.001" value="0.035"> </div> <div class="slider-container"> <label>Rotation Speed: <span id="speedValue">0.1</span></label> <input type="range" id="rotationSpeed" min="0" max="0.5" step="0.01" value="0.1"> </div> <div class="slider-container"> <label>Particle Color:</label> <input type="color" id="particleColor" value="#00FFCC"> </div> <div class="slider-container"> <label>Particle Density: <span id="densityValue">25000</span></label> <input type="range" id="particleDensity" min="5000" max="50000" step="5000" value="25000"> </div> <div class="slider-container"> <label>Mass Influence: <span id="massValue">0</span></label> <input type="range" id="massInfluence" min="0" max="1" step="0.05" value="0"> </div> <div class="slider-container"> <label>Orbital Velocity: <span id="orbitalValue">0</span></label> <input type="range" id="orbitalVelocity" min="0" max="0.5" step="0.01" value="0"> </div> </details> <details class="control-group"> <summary>Visual Effects</summary> <div class="slider-container"> <label>Bloom Strength: <span id="bloomValue">0.8</span></label> <input type="range" id="bloomStrength" min="0" max="2" step="0.1" value="0.8"> </div> <div class="slider-container"> <label>Trail Length: <span id="trailValue">0.3</span></label> <input type="range" id="motionTrail" min="0" max="1" step="0.05" value="0.3"> </div> <div class="slider-container"> <label>Star Flare: <span id="flareValue">0</span></label> <input type="range" id="starFlare" min="0" max="1" step="0.05" value="0"> </div> <div class="slider-container"> <label>Cosmic Wind: <span id="windValue">0</span></label> <input type="range" id="cosmicWind" min="0" max="0.3" step="0.01" value="0"> </div> <div class="slider-container"> <label>Warp Speed: <span id="warpValue">0</span></label> <input type="range" id="warpSpeed" min="0" max="1" step="0.05" value="0"> </div> </details> <details class="control-group"> <summary>Motion & Shape</summary> <div class="slider-container"> <label>Morph Speed: <span id="morphSpeedValue">1.5</span></label> <input type="range" id="morphSpeed" min="0.5" max="3" step="0.1" value="1.5"> </div> <div class="slider-container"> <label>Randomness: <span id="randomnessValue">0</span></label> <input type="range" id="randomnessFactor" min="0" max="0.5" step="0.01" value="0"> </div> <div class="slider-container"> <label>Twirl Intensity: <span id="twirlValue">0</span></label> <input type="range" id="twirlIntensity" min="0" max="1" step="0.05" value="0"> </div> <div class="slider-container"> <label>Pulse Effect: <span id="pulseValue">0</span></label> <input type="range" id="pulseEffect" min="0" max="1" step="0.05" value="0"> </div> <div class="slider-container"> <label>Black Hole Pull: <span id="blackHoleValue">0</span></label> <input type="range" id="blackHolePull" min="0" max="0.2" step="0.01" value="0"> </div> <div class="slider-container"> <label>Galaxy Spiral: <span id="spiralValue">0</span></label> <input type="range" id="galaxySpiral" min="0" max="1" step="0.05" value="0"> </div> <div class="slider-container"> <label>Meteor Shower: <span id="meteorValue">0</span></label> <input type="range" id="meteorShower" min="0" max="1" step="0.05" value="0"> </div> </details> <details class="control-group"> <summary>Physics & Scale</summary> <div class="slider-container"> <label>Gravity Pull: <span id="gravityValue">0</span></label> <input type="range" id="gravityPull" min="0" max="0.1" step="0.01" value="0"> </div> <div class="slider-container"> <label>Shape Scale: <span id="scaleValue">1</span></label> <input type="range" id="shapeScale" min="0.5" max="2" step="0.1" value="1"> </div> <div class="slider-container"> <label>Nebula Density: <span id="nebulaValue">0</span></label> <input type="range" id="nebulaDensity" min="0" max="1" step="0.05" value="0"> </div> <div class="slider-container"> <label>Dark Matter: <span id="darkMatterValue">0</span></label> <input type="range" id="darkMatterEffect" min="0" max="0.5" step="0.05" value="0"> </div> </details> <details class="control-group"> <summary>Variations</summary> <div class="slider-container"> <label>Color Variation: <span id="colorVarValue">0</span></label> <input type="range" id="colorVariation" min="0" max="0.5" step="0.05" value="0"> </div> <div class="slider-container"> <label>Noise Amplitude: <span id="noiseValue">0</span></label> <input type="range" id="noiseAmplitude" min="0" max="0.2" step="0.01" value="0"> </div> </details> </div> <div id="info">Made by Denis Shipilov for Metasiberia using Three.js & Grok</div> <!-- Модальное окно с инструкцией --> <div id="help-overlay"></div> <div id="help-modal"> <details> <summary>Particle Basics</summary> <p><strong>Particle Size (0.01–0.1):</strong> Регулирует размер частиц. Меньше — мелкие звёзды, больше — крупные точки.</p> <p><strong>Rotation Speed (0–0.5):</strong> Скорость вращения системы частиц. 0 — стоп, 0.5 — быстро.</p> <p><strong>Particle Color:</strong> Базовый цвет частиц через палитру, с небольшими вариациями яркости.</p> <p><strong>Particle Density (5000–50000):</strong> Количество частиц. Меньше — редкие звёзды, больше — густое поле.</p> <p><strong>Mass Influence (0–1):</strong> Гравитационное притяжение между частицами. 0 — нет, 1 — сильное сближение.</p> <p><strong>Orbital Velocity (0–0.5):</strong> Вращение частиц по орбитам вокруг центра. 0 — неподвижны, 0.5 — быстрые орбиты.</p> </details> <details> <summary>Visual Effects</summary> <p><strong>Bloom Strength (0–2):</strong> Сила свечения частиц. 0 — нет, 2 — яркие ореолы.</p> <p><strong>Trail Length (0–1):</strong> Длина шлейфов за частицами. 0 — нет, 1 — длинные следы.</p> <p><strong>Star Flare (0–1):</strong> Случайные вспышки частиц. 0 — нет, 1 — частые яркие всплески.</p> <p><strong>Cosmic Wind (0–0.3):</strong> Поток частиц в сторону X. 0 — нет, 0.3 — сильный ветер.</p> <p><strong>Warp Speed (0–1):</strong> Ускорение по Z, эффект гиперпрыжка. 0 — обычное, 1 — вытянутые линии.</p> </details> <details> <summary>Motion & Shape</summary> <p><strong>Morph Speed (0.5–3):</strong> Скорость перехода между формами. 0.5 — быстро, 3 — медленно.</p> <p><strong>Randomness (0–0.5):</strong> Случайное смещение частиц. 0 — точная форма, 0.5 — хаос.</p> <p><strong>Twirl Intensity (0–1):</strong> Закручивание частиц в вихрь. 0 — нет, 1 — сильный вихрь.</p> <p><strong>Pulse Effect (0–1):</strong> Пульсация размеров частиц. 0 — статично, 1 — сильная пульсация.</p> <p><strong>Black Hole Pull (0–0.2):</strong> Сжатие к центру, как чёрная дыра. 0 — нет, 0.2 — сильное.</p> <p><strong>Galaxy Spiral (0–1):</strong> Преобразует форму в спираль. 0 — исходная, 1 — спиральные рукава.</p> <p><strong>Meteor Shower (0–1):</strong> Падающие метеоры с шлейфами. 0 — нет, 1 — частый дождь.</p> </details> <details> <summary>Physics & Scale</summary> <p><strong>Gravity Pull (0–0.1):</strong> Притяжение частиц к центру. 0 — нет, 0.1 — заметное сжатие.</p> <p><strong>Shape Scale (0.5–2):</strong> Размер формы. 0.5 — маленькая, 2 — крупная.</p> <p><strong>Nebula Density (0–1):</strong> Сгустки частиц, как туманность. 0 — равномерно, 1 — плотные облака.</p> <p><strong>Dark Matter (0–0.5):</strong> Уменьшает видимость частиц. 0 — все видны, 0.5 — многие полупрозрачны.</p> </details> <details> <summary>Variations</summary> <p><strong>Color Variation (0–0.5):</strong> Разброс яркости частиц. 0 — однотонные, 0.5 — разноцветные.</p> <p><strong>Noise Amplitude (0–0.2):</strong> Дрожание частиц. 0 — статично, 0.2 — заметные колебания.</p> </details> </div> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet"> <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.162.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.162.0/examples/jsm/"
        }
    }
    </script> <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { TeapotGeometry } from 'three/addons/geometries/TeapotGeometry.js';
        import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
        import { ShaderPass } from 'three/addons/postprocessing/ShaderPass.js';
        import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';
        import { GammaCorrectionShader } from 'three/addons/shaders/GammaCorrectionShader.js';

        let scene, camera, renderer, controls, particleSystem, currentGeometry;
        let numParticles = 25000;
        const clock = new THREE.Clock();
        let targetPositions = [];
        let animationProgress = 1;
        let selectedButton = null;
        let composer, bloomPass, trailPass;
        let trailTexture, trailScene, trailCamera, trailComposer;
        let helpButton; // Переносим helpButton в глобальную область видимости

        const params = {
            particleSize: 0.035,
            particleColor: 0x00FFCC,
            rotationSpeed: 0.1,
            bloomStrength: 0.8,
            bloomRadius: 0.5,
            bloomThreshold: 0.85,
            ambientLightIntensity: 0.7,
            directionalLightIntensity: 1,
            motionTrail: 0.3,
            morphSpeed: 1.5,
            randomnessFactor: 0,
            twirlIntensity: 0,
            pulseEffect: 0,
            gravityPull: 0,
            shapeScale: 1,
            colorVariation: 0,
            noiseAmplitude: 0,
            massInfluence: 0,
            orbitalVelocity: 0,
            starFlare: 0,
            cosmicWind: 0,
            warpSpeed: 0,
            blackHolePull: 0,
            galaxySpiral: 0,
            meteorShower: 0,
            nebulaDensity: 0,
            darkMatterEffect: 0
        };

        init();
        animate();

        function init() {
            initScenes();
            initLights();
            initComposers();
            initControls();
            createParticleSystem();
            initEventListeners();
            initTrailEffect();
        }

        function initScenes() {
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x050505);
            scene.fog = new THREE.Fog(0x050505, 10, 50);

            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1;
            document.getElementById('container').appendChild(renderer.domElement);

            trailScene = new THREE.Scene();
            trailCamera = camera.clone();
            trailTexture = new THREE.WebGLRenderTarget(
                window.innerWidth,
                window.innerHeight,
                {
                    minFilter: THREE.LinearFilter,
                    magFilter: THREE.LinearFilter,
                    format: THREE.RGBAFormat
                }
            );
        }

        function initLights() {
            const ambientLight = new THREE.AmbientLight(0xffffff, params.ambientLightIntensity);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, params.directionalLightIntensity);
            directionalLight.position.set(1, 3, 2);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
        }

        function initComposers() {
            composer = new EffectComposer(renderer);
            const renderPass = new RenderPass(scene, camera);
            composer.addPass(renderPass);

            bloomPass = new UnrealBloomPass(
                new THREE.Vector2(window.innerWidth, window.innerHeight),
                params.bloomStrength,
                params.bloomRadius,
                params.bloomThreshold
            );
            composer.addPass(bloomPass);

            const gammaCorrectionPass = new ShaderPass(GammaCorrectionShader);
            composer.addPass(gammaCorrectionPass);

            trailComposer = new EffectComposer(renderer, trailTexture);
            const trailRenderPass = new RenderPass(trailScene, trailCamera);
            trailComposer.addPass(trailRenderPass);
        }

        function initControls() {
            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.1;
            controls.rotateSpeed = 0.5;
            controls.minDistance = 2;
            controls.maxDistance = 10;
            
            controls.addEventListener('start', () => {
                document.body.style.cursor = 'grabbing';
            });
            
            controls.addEventListener('end', () => {
                document.body.style.cursor = 'grab';
            });
        }

        function createParticleSystem() {
            if (particleSystem) scene.remove(particleSystem);
            if (trailScene.children.length > 0) trailScene.remove(trailScene.children[0]);

            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(numParticles * 3);
            const colors = new Float32Array(numParticles * 3);
            const sizes = new Float32Array(numParticles);
            const velocities = new Float32Array(numParticles * 3);

            targetPositions = new Float32Array(numParticles * 3);

            for (let i = 0; i < numParticles; i++) {
                const phi = Math.acos(-1 + (2 * i) / numParticles);
                const theta = Math.sqrt(numParticles * Math.PI) * phi;
                const x = Math.sin(phi) * Math.cos(theta);
                const y = Math.sin(phi) * Math.sin(theta);
                const z = Math.cos(phi);

                positions[i * 3] = x * 1.5;
                positions[i * 3 + 1] = y * 1.5;
                positions[i * 3 + 2] = z * 1.5;

                targetPositions[i * 3] = positions[i * 3];
                targetPositions[i * 3 + 1] = positions[i * 3 + 1];
                targetPositions[i * 3 + 2] = positions[i * 3 + 2];

                const color = new THREE.Color(params.particleColor);
                color.offsetHSL(0, 0, (Math.random() - 0.5) * params.colorVariation);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;

                sizes[i] = params.particleSize * (0.8 + Math.random() * 0.4);
                velocities[i * 3] = 0;
                velocities[i * 3 + 1] = 0;
                velocities[i * 3 + 2] = 0;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
            geometry.setAttribute('velocity', new THREE.BufferAttribute(velocities, 3));

            const material = new THREE.PointsMaterial({
                size: params.particleSize,
                vertexColors: true,
                blending: THREE.AdditiveBlending,
                depthTest: true,
                depthWrite: false,
                transparent: true,
                opacity: 0.9 - params.darkMatterEffect,
                sizeAttenuation: true
            });

            particleSystem = new THREE.Points(geometry, material);
            scene.add(particleSystem);

            const trailParticles = particleSystem.clone();
            trailScene.add(trailParticles);
        }

        function initTrailEffect() {
            const trailMaterial = new THREE.ShaderMaterial({
                uniforms: {
                    tDiffuse: { value: null },
                    opacity: { value: params.motionTrail }
                },
                vertexShader: `
                    varying vec2 vUv;
                    void main() {
                        vUv = uv;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                    }
                `,
                fragmentShader: `
                    uniform sampler2D tDiffuse;
                    uniform float opacity;
                    varying vec2 vUv;
                    void main() {
                        vec4 texel = texture2D(tDiffuse, vUv);
                        gl_FragColor = vec4(texel.rgb, opacity * texel.a);
                    }
                `
            });

            trailPass = new ShaderPass(trailMaterial);
            trailPass.renderToScreen = true;
            composer.addPass(trailPass);
        }

        function initEventListeners() {
            const buttons = document.querySelectorAll('.button');
            buttons.forEach(button => {
                button.addEventListener('click', handleButtonClick);
            });

            const initialShape = 'sphere';
            document.querySelector(`[data-shape="${initialShape}"]`).classList.add('active');
            selectedButton = document.querySelector(`[data-shape="${initialShape}"]`);
            morphToShape(initialShape);

            document.getElementById('particleSize').addEventListener('input', (e) => {
                params.particleSize = parseFloat(e.target.value);
                document.getElementById('sizeValue').textContent = params.particleSize.toFixed(3);
                updateParticleSystem();
            });

            document.getElementById('rotationSpeed').addEventListener('input', (e) => {
                params.rotationSpeed = parseFloat(e.target.value);
                document.getElementById('speedValue').textContent = params.rotationSpeed.toFixed(2);
            });

            document.getElementById('particleColor').addEventListener('input', (e) => {
                params.particleColor = new THREE.Color(e.target.value).getHex();
                updateParticleSystem();
            });

            document.getElementById('particleDensity').addEventListener('input', (e) => {
                numParticles = parseInt(e.target.value);
                document.getElementById('densityValue').textContent = numParticles;
                createParticleSystem();
                morphToShape(selectedButton.dataset.shape);
            });

            document.getElementById('bloomStrength').addEventListener('input', (e) => {
                params.bloomStrength = parseFloat(e.target.value);
                document.getElementById('bloomValue').textContent = params.bloomStrength.toFixed(1);
                bloomPass.strength = params.bloomStrength;
            });

            document.getElementById('motionTrail').addEventListener('input', (e) => {
                params.motionTrail = parseFloat(e.target.value);
                document.getElementById('trailValue').textContent = params.motionTrail.toFixed(2);
                trailPass.material.uniforms.opacity.value = params.motionTrail + params.warpSpeed * 0.5;
            });

            document.getElementById('morphSpeed').addEventListener('input', (e) => {
                params.morphSpeed = parseFloat(e.target.value);
                document.getElementById('morphSpeedValue').textContent = params.morphSpeed.toFixed(1);
            });

            document.getElementById('randomnessFactor').addEventListener('input', (e) => {
                params.randomnessFactor = parseFloat(e.target.value);
                document.getElementById('randomnessValue').textContent = params.randomnessFactor.toFixed(2);
            });

            document.getElementById('twirlIntensity').addEventListener('input', (e) => {
                params.twirlIntensity = parseFloat(e.target.value);
                document.getElementById('twirlValue').textContent = params.twirlIntensity.toFixed(2);
            });

            document.getElementById('pulseEffect').addEventListener('input', (e) => {
                params.pulseEffect = parseFloat(e.target.value);
                document.getElementById('pulseValue').textContent = params.pulseEffect.toFixed(2);
            });

            document.getElementById('gravityPull').addEventListener('input', (e) => {
                params.gravityPull = parseFloat(e.target.value);
                document.getElementById('gravityValue').textContent = params.gravityPull.toFixed(2);
            });

            document.getElementById('shapeScale').addEventListener('input', (e) => {
                params.shapeScale = parseFloat(e.target.value);
                document.getElementById('scaleValue').textContent = params.shapeScale.toFixed(1);
                morphToShape(selectedButton.dataset.shape);
            });

            document.getElementById('colorVariation').addEventListener('input', (e) => {
                params.colorVariation = parseFloat(e.target.value);
                document.getElementById('colorVarValue').textContent = params.colorVariation.toFixed(2);
                updateParticleSystem();
            });

            document.getElementById('noiseAmplitude').addEventListener('input', (e) => {
                params.noiseAmplitude = parseFloat(e.target.value);
                document.getElementById('noiseValue').textContent = params.noiseAmplitude.toFixed(2);
            });

            document.getElementById('massInfluence').addEventListener('input', (e) => {
                params.massInfluence = parseFloat(e.target.value);
                document.getElementById('massValue').textContent = params.massInfluence.toFixed(2);
            });

            document.getElementById('orbitalVelocity').addEventListener('input', (e) => {
                params.orbitalVelocity = parseFloat(e.target.value);
                document.getElementById('orbitalValue').textContent = params.orbitalVelocity.toFixed(2);
            });

            document.getElementById('starFlare').addEventListener('input', (e) => {
                params.starFlare = parseFloat(e.target.value);
                document.getElementById('flareValue').textContent = params.starFlare.toFixed(2);
            });

            document.getElementById('cosmicWind').addEventListener('input', (e) => {
                params.cosmicWind = parseFloat(e.target.value);
                document.getElementById('windValue').textContent = params.cosmicWind.toFixed(2);
            });

            document.getElementById('warpSpeed').addEventListener('input', (e) => {
                params.warpSpeed = parseFloat(e.target.value);
                document.getElementById('warpValue').textContent = params.warpSpeed.toFixed(2);
                trailPass.material.uniforms.opacity.value = params.motionTrail + params.warpSpeed * 0.5;
            });

            document.getElementById('blackHolePull').addEventListener('input', (e) => {
                params.blackHolePull = parseFloat(e.target.value);
                document.getElementById('blackHoleValue').textContent = params.blackHolePull.toFixed(2);
            });

            document.getElementById('galaxySpiral').addEventListener('input', (e) => {
                params.galaxySpiral = parseFloat(e.target.value);
                document.getElementById('spiralValue').textContent = params.galaxySpiral.toFixed(2);
                morphToShape(selectedButton.dataset.shape);
            });

            document.getElementById('meteorShower').addEventListener('input', (e) => {
                params.meteorShower = parseFloat(e.target.value);
                document.getElementById('meteorValue').textContent = params.meteorShower.toFixed(2);
            });

            document.getElementById('nebulaDensity').addEventListener('input', (e) => {
                params.nebulaDensity = parseFloat(e.target.value);
                document.getElementById('nebulaValue').textContent = params.nebulaDensity.toFixed(2);
            });

            document.getElementById('darkMatterEffect').addEventListener('input', (e) => {
                params.darkMatterEffect = parseFloat(e.target.value);
                document.getElementById('darkMatterValue').textContent = params.darkMatterEffect.toFixed(2);
                updateParticleSystem();
            });

            window.addEventListener('resize', onWindowResize, false);

            renderer.domElement.addEventListener('dblclick', () => {
                camera.position.set(0, 0, 5);
                camera.lookAt(0, 0, 0);
                controls.reset();
            });

            // Логика для кнопки Help
            helpButton = document.getElementById('help-button'); // Теперь helpButton доступен глобально
            const helpModal = document.getElementById('help-modal');
            const helpOverlay = document.getElementById('help-overlay');

            helpButton.addEventListener('click', () => {
                helpModal.style.display = 'block';
                helpOverlay.style.display = 'block';
            });

            helpOverlay.addEventListener('click', () => {
                helpModal.style.display = 'none';
                helpOverlay.style.display = 'none';
            });
        }

        function handleButtonClick(event) {
            const shape = event.target.dataset.shape;
            if (selectedButton) { // Проверяем, существует ли selectedButton
                selectedButton.classList.remove('active');
            }
            if (event.target !== helpButton) { // Теперь helpButton доступен
                selectedButton = event.target;
                selectedButton.classList.add('active');
                morphToShape(shape);
            }
        }

        function createDNAShape() {
            const points = [];
            const numPoints = 100;
            const radius = 1 * params.shapeScale;
            const height = 3 * params.shapeScale;
            const turns = 2 + params.galaxySpiral * 2;
            
            for (let i = 0; i < numPoints; i++) {
                const t = (i / numPoints) * Math.PI * 2 * turns;
                const x = Math.cos(t) * radius * (1 + params.galaxySpiral * Math.sin(t));
                const y = (i / numPoints) * height - height / 2;
                const z = Math.sin(t) * radius * (1 + params.galaxySpiral * Math.cos(t));
                points.push(new THREE.Vector3(x, y, z));
                
                const offset = Math.PI;
                const x2 = Math.cos(t + offset) * radius * (1 + params.galaxySpiral * Math.sin(t + offset));
                const z2 = Math.sin(t + offset) * radius * (1 + params.galaxySpiral * Math.cos(t + offset));
                points.push(new THREE.Vector3(x2, y, z2));
            }
            
            return points;
        }

        function morphToShape(shapeType) {
            let targetGeometry;
            let targetVertices = [];

            switch (shapeType) {
                case 'sphere':
                    targetGeometry = new THREE.SphereGeometry(1.5 * params.shapeScale, 64, 64);
                    break;
                case 'cube':
                    targetGeometry = new THREE.BoxGeometry(2.2 * params.shapeScale, 2.2 * params.shapeScale, 2.2 * params.shapeScale);
                    break;
                case 'torus':
                    targetGeometry = new THREE.TorusGeometry(1.2 * params.shapeScale, 0.4 * params.shapeScale, 32, 200);
                    break;
                case 'icosahedron':
                    targetGeometry = new THREE.IcosahedronGeometry(1.7 * params.shapeScale, 3);
                    break;
                case 'teapot':
                    targetGeometry = new THREE.TeapotGeometry(1.2 * params.shapeScale, 16);
                    break;
                case 'dna':
                    targetVertices = createDNAShape();
                    break;
                default:
                    return;
            }

            if (shapeType !== 'dna') {
                targetGeometry.computeVertexNormals();
                const targetPositionAttribute = targetGeometry.getAttribute('position');
                for (let i = 0; i < targetPositionAttribute.count; i++) {
                    const vertex = new THREE.Vector3();
                    vertex.fromBufferAttribute(targetPositionAttribute, i);
                    vertex.x += (Math.random() - 0.5) * params.randomnessFactor;
                    vertex.y += (Math.random() - 0.5) * params.randomnessFactor;
                    vertex.z += (Math.random() - 0.5) * params.randomnessFactor;
                    if (params.galaxySpiral > 0) {
                        const angle = Math.atan2(vertex.z, vertex.x) + params.galaxySpiral * 2;
                        const radius = Math.sqrt(vertex.x * vertex.x + vertex.z * vertex.z);
                        vertex.x = radius * Math.cos(angle);
                        vertex.z = radius * Math.sin(angle);
                    }
                    targetVertices.push(vertex);
                }
            }

            for (let i = 0; i < numParticles; i++) {
                const vertexIndex = i % targetVertices.length;
                const targetVertex = targetVertices[vertexIndex];
                targetPositions[i * 3] = targetVertex.x;
                targetPositions[i * 3 + 1] = targetVertex.y;
                targetPositions[i * 3 + 2] = targetVertex.z;
            }

            animationProgress = 0;
            if (shapeType !== 'dna') {
                currentGeometry = targetGeometry;
            }
        }

        function updateParticleSystem() {
            if (!particleSystem) return;

            const colors = particleSystem.geometry.attributes.color.array;
            const sizes = particleSystem.geometry.attributes.size.array;

            for (let i = 0; i < numParticles; i++) {
                const color = new THREE.Color(params.particleColor);
                color.offsetHSL(0, 0, (Math.random() - 0.5) * params.colorVariation);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;

                sizes[i] = params.particleSize * (0.8 + Math.random() * 0.4);
            }

            particleSystem.geometry.attributes.color.needsUpdate = true;
            particleSystem.geometry.attributes.size.needsUpdate = true;
            particleSystem.material.size = params.particleSize;
            particleSystem.material.opacity = 0.9 - params.darkMatterEffect;
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            composer.setSize(window.innerWidth, window.innerHeight);
            trailTexture.setSize(window.innerWidth, window.innerHeight);
            trailComposer.setSize(window.innerWidth, window.innerHeight);
        }

        function animate() {
            requestAnimationFrame(animate);

            const delta = clock.getDelta();
            const elapsedTime = clock.getElapsedTime();

            if (particleSystem) {
                particleSystem.rotation.y += delta * params.rotationSpeed;

                const positions = particleSystem.geometry.attributes.position.array;
                const sizes = particleSystem.geometry.attributes.size.array;
                const velocities = particleSystem.geometry.attributes.velocity.array;

                if (animationProgress < 1) {
                    animationProgress += delta / params.morphSpeed;
                    animationProgress = Math.min(animationProgress, 1);

                    for (let i = 0; i < numParticles * 3; i++) {
                        positions[i] += (targetPositions[i] - positions[i]) * (delta / params.morphSpeed);
                    }
                }

                if (params.twirlIntensity > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        const x = positions[i * 3];
                        const z = positions[i * 3 + 2];
                        const angle = delta * params.twirlIntensity * 5;
                        positions[i * 3] = x * Math.cos(angle) - z * Math.sin(angle);
                        positions[i * 3 + 2] = x * Math.sin(angle) + z * Math.cos(angle);
                    }
                }

                if (params.pulseEffect > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        sizes[i] = params.particleSize * (0.8 + Math.sin(elapsedTime * 2 + i) * params.pulseEffect);
                    }
                    particleSystem.geometry.attributes.size.needsUpdate = true;
                }

                if (params.gravityPull > 0 || params.blackHolePull > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        const dx = -positions[i * 3] * (params.gravityPull + params.blackHolePull * 3) * delta;
                        const dy = -positions[i * 3 + 1] * (params.gravityPull + params.blackHolePull * 3) * delta;
                        const dz = -positions[i * 3 + 2] * (params.gravityPull + params.blackHolePull * 3) * delta;
                        positions[i * 3] += dx;
                        positions[i * 3 + 1] += dy;
                        positions[i * 3 + 2] += dz;
                    }
                }

                if (params.noiseAmplitude > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        positions[i * 3] += (Math.random() - 0.5) * params.noiseAmplitude * delta;
                        positions[i * 3 + 1] += (Math.random() - 0.5) * params.noiseAmplitude * delta;
                        positions[i * 3 + 2] += (Math.random() - 0.5) * params.noiseAmplitude * delta;
                    }
                }

                if (params.massInfluence > 0) {
                    for (let i = 0; i < numParticles; i += 2) {
                        for (let j = i + 1; j < numParticles; j += 2) {
                            const dx = positions[i * 3] - positions[j * 3];
                            const dy = positions[i * 3 + 1] - positions[j * 3 + 1];
                            const dz = positions[i * 3 + 2] - positions[j * 3 + 2];
                            const dist = Math.sqrt(dx * dx + dy * dy + dz * dz) || 0.01;
                            const force = params.massInfluence * 0.01 / (dist * dist);
                            positions[i * 3] -= dx * force * delta;
                            positions[i * 3 + 1] -= dy * force * delta;
                            positions[i * 3 + 2] -= dz * force * delta;
                            positions[j * 3] += dx * force * delta;
                            positions[j * 3 + 1] += dy * force * delta;
                            positions[j * 3 + 2] += dz * force * delta;
                        }
                    }
                }

                if (params.orbitalVelocity > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        const x = positions[i * 3];
                        const z = positions[i * 3 + 2];
                        const radius = Math.sqrt(x * x + z * z);
                        const angle = delta * params.orbitalVelocity / Math.max(radius, 0.1);
                        positions[i * 3] = x * Math.cos(angle) - z * Math.sin(angle);
                        positions[i * 3 + 2] = x * Math.sin(angle) + z * Math.cos(angle);
                    }
                }

                if (params.starFlare > 0 && Math.random() < params.starFlare * delta * 10) {
                    const i = Math.floor(Math.random() * numParticles);
                    sizes[i] = params.particleSize * (2 + Math.random() * params.starFlare * 3);
                    setTimeout(() => { sizes[i] = params.particleSize * (0.8 + Math.random() * 0.4); particleSystem.geometry.attributes.size.needsUpdate = true; }, 200);
                    particleSystem.geometry.attributes.size.needsUpdate = true;
                }

                if (params.cosmicWind > 0 || params.meteorShower > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        velocities[i * 3] += params.cosmicWind * delta;
                        if (params.meteorShower > 0 && Math.random() < params.meteorShower * delta * 0.05) {
                            velocities[i * 3 + 1] -= Math.random() * params.meteorShower * 5 * delta;
                            sizes[i] = params.particleSize * (1 + params.meteorShower * 2);
                        }
                        positions[i * 3] += velocities[i * 3];
                        positions[i * 3 + 1] += velocities[i * 3 + 1];
                        if (positions[i * 3 + 1] < -5 || positions[i * 3] > 5) {
                            positions[i * 3] = (Math.random() - 0.5) * 5;
                            positions[i * 3 + 1] = 5;
                            velocities[i * 3] = 0;
                            velocities[i * 3 + 1] = 0;
                            sizes[i] = params.particleSize * (0.8 + Math.random() * 0.4);
                        }
                    }
                    particleSystem.geometry.attributes.velocity.needsUpdate = true;
                }

                if (params.warpSpeed > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        positions[i * 3 + 2] -= delta * params.warpSpeed * 3;
                        if (positions[i * 3 + 2] < -5) positions[i * 3 + 2] = 5;
                    }
                }

                if (params.nebulaDensity > 0) {
                    for (let i = 0; i < numParticles; i++) {
                        const dist = Math.sqrt(positions[i * 3] * positions[i * 3] + positions[i * 3 + 1] * positions[i * 3 + 1] + positions[i * 3 + 2] * positions[i * 3 + 2]);
                        const force = params.nebulaDensity * 0.1 * (1 - dist / 5);
                        positions[i * 3] += (Math.random() - 0.5) * force * delta;
                        positions[i * 3 + 1] += (Math.random() - 0.5) * force * delta;
                        positions[i * 3 + 2] += (Math.random() - 0.5) * force * delta;
                    }
                }

                particleSystem.geometry.attributes.position.needsUpdate = true;
            }

            renderer.setRenderTarget(trailTexture);
            renderer.render(scene, camera);
            renderer.setRenderTarget(null);

            controls.update();
            composer.render();
        }
    </script> </body> </html> <!-- nominify end --> </div> </div> </div> </div> <div id="rec874665028" class="r t-rec t-rec_pt_135 t-rec_pb_90" style="padding-top:135px;padding-bottom:90px; " data-record-type="33"> <!-- T017 --> <div class="t017"> <div class="t-container t-align_center"> <div class="t-col t-col_10 t-prefix_1"> <div class="t017__uptitle t-uptitle t-uptitle_md" field="subtitle">BASICS</div> <div class="t017__title t-title t-title_xxs" field="title">Why typography matters?</div> </div> </div> </div> </div> <!--footer--> <footer id="t-footer" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="10405061" data-tilda-page-id="64026811" data-tilda-page-alias="footer" data-tilda-formskey="88eba96ec6ee282538f0b41910405061" data-tilda-cookie="no" data-tilda-lazy="yes" data-tilda-root-zone="com" data-tilda-project-country="RU"> <div id="rec872697073" class="r t-rec t-rec_pb_0" style="padding-bottom:0px;background-color:#ffffff; " data-animationappear="off" data-record-type="144" data-bg-color="#ffffff"> <!-- T134 --> <div class="t134"> <div class="t-container"> <div class="t-col t-col_10 t-prefix_1"> <div class="t134__descr" field="descr"><br /><strong style="color: rgb(0, 0, 0);">© 2025 Denis Shipilov | G<a href="https://gallery20.ru/" style="color: rgb(0, 0, 0);">allery20.ru</a> | <a href="mailto:greatdng@gmail.com" style="color: rgb(0, 0, 0);">DNG</a></strong><br /><span style="color: rgb(0, 0, 0);">Metasiberia is based and inspired by Substrata</span></div> </div> </div> </div> <style>#rec872697073 .t134__title,#rec872697073 .t134__descr{color:#ffffff;}</style> </div> </footer> <!--/footer--> </div> <!--/allrecords-->